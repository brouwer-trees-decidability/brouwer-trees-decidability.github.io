<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Simulations</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">----------------------------------------------------------------------------------------------------</a>
<a id="102" class="Comment">-- Simulations</a>
<a id="117" class="Comment">----------------------------------------------------------------------------------------------------</a>

<a id="219" class="Symbol">{-#</a> <a id="223" class="Keyword">OPTIONS</a> <a id="231" class="Pragma">--erased-cubical</a> <a id="248" class="Pragma">--erasure</a> <a id="258" class="Pragma">--guardedness</a> <a id="272" class="Pragma">--safe</a> <a id="279" class="Symbol">#-}</a>

<a id="284" class="Keyword">open</a> <a id="289" class="Keyword">import</a> <a id="296" href="Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a>

<a id="325" class="Keyword">open</a> <a id="330" class="Keyword">import</a> <a id="337" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="354" class="Keyword">renaming</a> <a id="363" class="Symbol">(</a><a id="364" href="Agda.Builtin.Nat.html#203" class="Datatype">Nat</a> <a id="368" class="Symbol">to</a> <a id="371" class="Datatype">ℕ</a><a id="372" class="Symbol">)</a>
<a id="374" class="Keyword">open</a> <a id="379" class="Keyword">import</a> <a id="386" href="Agda.Builtin.Sigma.html" class="Module">Agda.Builtin.Sigma</a>

<a id="406" class="Keyword">open</a> <a id="411" class="Keyword">import</a> <a id="418" href="PropTrunc.html" class="Module">PropTrunc</a>

<a id="429" class="Keyword">module</a> <a id="436" href="Simulations.html" class="Module">Simulations</a> <a id="448" class="Symbol">{</a><a id="449" href="Simulations.html#449" class="Bound">ℓ₁</a> <a id="452" href="Simulations.html#452" class="Bound">ℓ₂</a><a id="454" class="Symbol">}</a> <a id="456" class="Symbol">(</a><a id="457" href="Simulations.html#457" class="Bound">A</a> <a id="459" class="Symbol">:</a> <a id="461" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="466" href="Simulations.html#449" class="Bound">ℓ₁</a><a id="468" class="Symbol">)</a> <a id="470" class="Symbol">(</a><a id="471" href="Simulations.html#471" class="Bound Operator">_≼_</a> <a id="475" class="Symbol">:</a> <a id="477" href="Simulations.html#457" class="Bound">A</a> <a id="479" class="Symbol">→</a> <a id="481" href="Simulations.html#457" class="Bound">A</a> <a id="483" class="Symbol">→</a> <a id="485" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="490" href="Simulations.html#452" class="Bound">ℓ₂</a><a id="492" class="Symbol">)</a> <a id="494" class="Keyword">where</a>

<a id="_simulated-by_"></a><a id="501" href="Simulations.html#501" class="Function Operator">_simulated-by_</a> <a id="516" class="Symbol">:</a> <a id="518" class="Symbol">(</a><a id="519" href="Simulations.html#519" class="Bound">f</a> <a id="521" href="Simulations.html#521" class="Bound">g</a> <a id="523" class="Symbol">:</a> <a id="525" href="Simulations.html#371" class="Datatype">ℕ</a> <a id="527" class="Symbol">→</a> <a id="529" href="Simulations.html#457" class="Bound">A</a><a id="530" class="Symbol">)</a> <a id="532" class="Symbol">→</a> <a id="534" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="539" class="Symbol">_</a>
<a id="541" href="Simulations.html#541" class="Bound">f</a> <a id="543" href="Simulations.html#501" class="Function Operator">simulated-by</a> <a id="556" href="Simulations.html#556" class="Bound">g</a> <a id="558" class="Symbol">=</a> <a id="560" class="Symbol">∀</a> <a id="562" href="Simulations.html#562" class="Bound">k</a> <a id="564" class="Symbol">→</a> <a id="566" href="PropTrunc.html#631" class="Datatype Operator">∥</a> <a id="568" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a> <a id="570" href="Simulations.html#371" class="Datatype">ℕ</a> <a id="572" class="Symbol">(λ</a> <a id="575" href="Simulations.html#575" class="Bound">n</a> <a id="577" class="Symbol">→</a> <a id="579" href="Simulations.html#541" class="Bound">f</a> <a id="581" href="Simulations.html#562" class="Bound">k</a> <a id="583" href="Simulations.html#471" class="Bound Operator">≼</a> <a id="585" href="Simulations.html#556" class="Bound">g</a> <a id="587" href="Simulations.html#575" class="Bound">n</a><a id="588" class="Symbol">)</a> <a id="590" href="PropTrunc.html#631" class="Datatype Operator">∥</a>

<a id="_bisimilar-to_"></a><a id="593" href="Simulations.html#593" class="Function Operator">_bisimilar-to_</a> <a id="608" class="Symbol">:</a> <a id="610" class="Symbol">(</a><a id="611" href="Simulations.html#611" class="Bound">f</a> <a id="613" href="Simulations.html#613" class="Bound">g</a> <a id="615" class="Symbol">:</a> <a id="617" href="Simulations.html#371" class="Datatype">ℕ</a> <a id="619" class="Symbol">→</a> <a id="621" href="Simulations.html#457" class="Bound">A</a><a id="622" class="Symbol">)</a> <a id="624" class="Symbol">→</a> <a id="626" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="631" class="Symbol">_</a>
<a id="633" href="Simulations.html#633" class="Bound">f</a> <a id="635" href="Simulations.html#593" class="Function Operator">bisimilar-to</a> <a id="648" href="Simulations.html#648" class="Bound">g</a> <a id="650" class="Symbol">=</a> <a id="652" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a> <a id="654" class="Symbol">(</a><a id="655" href="Simulations.html#633" class="Bound">f</a> <a id="657" href="Simulations.html#501" class="Function Operator">simulated-by</a> <a id="670" href="Simulations.html#648" class="Bound">g</a><a id="671" class="Symbol">)</a> <a id="673" class="Symbol">(λ</a> <a id="676" href="Simulations.html#676" class="Bound">_</a> <a id="678" class="Symbol">→</a> <a id="680" href="Simulations.html#648" class="Bound">g</a> <a id="682" href="Simulations.html#501" class="Function Operator">simulated-by</a> <a id="695" href="Simulations.html#633" class="Bound">f</a><a id="696" class="Symbol">)</a>


<a id="700" class="Comment">{- Strong (bi)simulations and their properties -}</a>

<a id="_strongly-simulated-by_"></a><a id="751" href="Simulations.html#751" class="Function Operator">_strongly-simulated-by_</a> <a id="775" class="Symbol">:</a> <a id="777" class="Symbol">(</a><a id="778" href="Simulations.html#778" class="Bound">f</a> <a id="780" href="Simulations.html#780" class="Bound">g</a> <a id="782" class="Symbol">:</a> <a id="784" href="Simulations.html#371" class="Datatype">ℕ</a> <a id="786" class="Symbol">→</a> <a id="788" href="Simulations.html#457" class="Bound">A</a><a id="789" class="Symbol">)</a> <a id="791" class="Symbol">→</a> <a id="793" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="798" class="Symbol">_</a>
<a id="800" href="Simulations.html#800" class="Bound">f</a> <a id="802" href="Simulations.html#751" class="Function Operator">strongly-simulated-by</a> <a id="824" href="Simulations.html#824" class="Bound">g</a> <a id="826" class="Symbol">=</a> <a id="828" class="Symbol">∀</a> <a id="830" href="Simulations.html#830" class="Bound">k</a> <a id="832" class="Symbol">→</a> <a id="834" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a> <a id="836" href="Simulations.html#371" class="Datatype">ℕ</a> <a id="838" class="Symbol">(λ</a> <a id="841" href="Simulations.html#841" class="Bound">n</a> <a id="843" class="Symbol">→</a> <a id="845" href="Simulations.html#800" class="Bound">f</a> <a id="847" href="Simulations.html#830" class="Bound">k</a> <a id="849" href="Simulations.html#471" class="Bound Operator">≼</a> <a id="851" href="Simulations.html#824" class="Bound">g</a> <a id="853" href="Simulations.html#841" class="Bound">n</a><a id="854" class="Symbol">)</a>

<a id="_strongly-bisimilar-to_"></a><a id="857" href="Simulations.html#857" class="Function Operator">_strongly-bisimilar-to_</a> <a id="881" class="Symbol">:</a> <a id="883" class="Symbol">(</a><a id="884" href="Simulations.html#884" class="Bound">f</a> <a id="886" href="Simulations.html#886" class="Bound">g</a> <a id="888" class="Symbol">:</a> <a id="890" href="Simulations.html#371" class="Datatype">ℕ</a> <a id="892" class="Symbol">→</a> <a id="894" href="Simulations.html#457" class="Bound">A</a><a id="895" class="Symbol">)</a> <a id="897" class="Symbol">→</a> <a id="899" href="Agda.Primitive.html#388" class="Primitive">Type</a> <a id="904" class="Symbol">_</a>
<a id="906" href="Simulations.html#906" class="Bound">f</a> <a id="908" href="Simulations.html#857" class="Function Operator">strongly-bisimilar-to</a> <a id="930" href="Simulations.html#930" class="Bound">g</a> <a id="932" class="Symbol">=</a> <a id="934" href="Agda.Builtin.Sigma.html#165" class="Record">Σ</a> <a id="936" class="Symbol">(</a><a id="937" href="Simulations.html#906" class="Bound">f</a> <a id="939" href="Simulations.html#751" class="Function Operator">strongly-simulated-by</a> <a id="961" href="Simulations.html#930" class="Bound">g</a><a id="962" class="Symbol">)</a> <a id="964" class="Symbol">(λ</a> <a id="967" href="Simulations.html#967" class="Bound">_</a> <a id="969" class="Symbol">→</a> <a id="971" href="Simulations.html#930" class="Bound">g</a> <a id="973" href="Simulations.html#751" class="Function Operator">strongly-simulated-by</a> <a id="995" href="Simulations.html#906" class="Bound">f</a><a id="996" class="Symbol">)</a>

<a id="sim-trans"></a><a id="999" href="Simulations.html#999" class="Function">sim-trans</a> <a id="1009" class="Symbol">:</a> <a id="1011" class="Symbol">(</a><a id="1012" href="Simulations.html#1012" class="Bound">≼-trans</a> <a id="1020" class="Symbol">:</a> <a id="1022" class="Symbol">(</a><a id="1023" href="Simulations.html#1023" class="Bound">a</a> <a id="1025" href="Simulations.html#1025" class="Bound">b</a> <a id="1027" href="Simulations.html#1027" class="Bound">c</a> <a id="1029" class="Symbol">:</a> <a id="1031" href="Simulations.html#457" class="Bound">A</a><a id="1032" class="Symbol">)</a> <a id="1034" class="Symbol">→</a> <a id="1036" href="Simulations.html#1023" class="Bound">a</a> <a id="1038" href="Simulations.html#471" class="Bound Operator">≼</a> <a id="1040" href="Simulations.html#1025" class="Bound">b</a> <a id="1042" class="Symbol">→</a> <a id="1044" href="Simulations.html#1025" class="Bound">b</a> <a id="1046" href="Simulations.html#471" class="Bound Operator">≼</a> <a id="1048" href="Simulations.html#1027" class="Bound">c</a> <a id="1050" class="Symbol">→</a> <a id="1052" href="Simulations.html#1023" class="Bound">a</a> <a id="1054" href="Simulations.html#471" class="Bound Operator">≼</a> <a id="1056" href="Simulations.html#1027" class="Bound">c</a><a id="1057" class="Symbol">)</a> <a id="1059" class="Symbol">→</a> <a id="1061" class="Symbol">∀</a> <a id="1063" class="Symbol">{</a><a id="1064" href="Simulations.html#1064" class="Bound">f</a> <a id="1066" href="Simulations.html#1066" class="Bound">g</a> <a id="1068" href="Simulations.html#1068" class="Bound">h</a><a id="1069" class="Symbol">}</a> <a id="1071" class="Symbol">→</a>
            <a id="1085" href="Simulations.html#1064" class="Bound">f</a> <a id="1087" href="Simulations.html#751" class="Function Operator">strongly-simulated-by</a> <a id="1109" href="Simulations.html#1066" class="Bound">g</a> <a id="1111" class="Symbol">→</a> <a id="1113" href="Simulations.html#1066" class="Bound">g</a> <a id="1115" href="Simulations.html#751" class="Function Operator">strongly-simulated-by</a> <a id="1137" href="Simulations.html#1068" class="Bound">h</a> <a id="1139" class="Symbol">→</a> <a id="1141" href="Simulations.html#1064" class="Bound">f</a> <a id="1143" href="Simulations.html#751" class="Function Operator">strongly-simulated-by</a> <a id="1165" href="Simulations.html#1068" class="Bound">h</a>
<a id="1167" href="Simulations.html#999" class="Function">sim-trans</a> <a id="1177" href="Simulations.html#1177" class="Bound">≼-trans</a> <a id="1185" class="Symbol">{</a><a id="1186" href="Simulations.html#1186" class="Bound">f</a><a id="1187" class="Symbol">}</a> <a id="1189" class="Symbol">{</a><a id="1190" href="Simulations.html#1190" class="Bound">g</a><a id="1191" class="Symbol">}</a> <a id="1193" class="Symbol">{</a><a id="1194" href="Simulations.html#1194" class="Bound">h</a><a id="1195" class="Symbol">}</a> <a id="1197" href="Simulations.html#1197" class="Bound">f-g-sim</a> <a id="1205" href="Simulations.html#1205" class="Bound">g-h-sim</a> <a id="1213" href="Simulations.html#1213" class="Bound">k</a> <a id="1215" class="Symbol">=</a> <a id="1217" href="Simulations.html#1305" class="Function">n</a> <a id="1219" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1221" href="Simulations.html#1177" class="Bound">≼-trans</a> <a id="1229" class="Symbol">_</a> <a id="1231" class="Symbol">_</a> <a id="1233" class="Symbol">_</a> <a id="1235" href="Simulations.html#1279" class="Function">fk≼gm</a> <a id="1241" href="Simulations.html#1327" class="Function">gm≼hn</a>
  <a id="1249" class="Keyword">where</a>
  <a id="1257" href="Simulations.html#1257" class="Function">m</a> <a id="1259" class="Symbol">=</a> <a id="1261" href="Agda.Builtin.Sigma.html#251" class="Field">fst</a> <a id="1265" class="Symbol">(</a><a id="1266" href="Simulations.html#1197" class="Bound">f-g-sim</a> <a id="1274" href="Simulations.html#1213" class="Bound">k</a><a id="1275" class="Symbol">)</a>
  <a id="1279" href="Simulations.html#1279" class="Function">fk≼gm</a> <a id="1285" class="Symbol">=</a> <a id="1287" href="Agda.Builtin.Sigma.html#263" class="Field">snd</a> <a id="1291" class="Symbol">(</a><a id="1292" href="Simulations.html#1197" class="Bound">f-g-sim</a> <a id="1300" href="Simulations.html#1213" class="Bound">k</a><a id="1301" class="Symbol">)</a>
  <a id="1305" href="Simulations.html#1305" class="Function">n</a> <a id="1307" class="Symbol">=</a> <a id="1309" href="Agda.Builtin.Sigma.html#251" class="Field">fst</a> <a id="1313" class="Symbol">(</a><a id="1314" href="Simulations.html#1205" class="Bound">g-h-sim</a> <a id="1322" href="Simulations.html#1257" class="Function">m</a><a id="1323" class="Symbol">)</a>
  <a id="1327" href="Simulations.html#1327" class="Function">gm≼hn</a> <a id="1333" class="Symbol">=</a> <a id="1335" href="Agda.Builtin.Sigma.html#263" class="Field">snd</a> <a id="1339" class="Symbol">(</a><a id="1340" href="Simulations.html#1205" class="Bound">g-h-sim</a> <a id="1348" href="Simulations.html#1257" class="Function">m</a><a id="1349" class="Symbol">)</a>

<a id="bisim-sym"></a><a id="1352" href="Simulations.html#1352" class="Function">bisim-sym</a> <a id="1362" class="Symbol">:</a> <a id="1364" class="Symbol">∀</a> <a id="1366" class="Symbol">{</a><a id="1367" href="Simulations.html#1367" class="Bound">f</a><a id="1368" class="Symbol">}</a> <a id="1370" class="Symbol">{</a><a id="1371" href="Simulations.html#1371" class="Bound">g</a><a id="1372" class="Symbol">}</a> <a id="1374" class="Symbol">→</a> <a id="1376" href="Simulations.html#1367" class="Bound">f</a> <a id="1378" href="Simulations.html#857" class="Function Operator">strongly-bisimilar-to</a> <a id="1400" href="Simulations.html#1371" class="Bound">g</a> <a id="1402" class="Symbol">→</a> <a id="1404" href="Simulations.html#1371" class="Bound">g</a> <a id="1406" href="Simulations.html#857" class="Function Operator">strongly-bisimilar-to</a> <a id="1428" href="Simulations.html#1367" class="Bound">f</a>
<a id="1430" href="Simulations.html#1352" class="Function">bisim-sym</a> <a id="1440" class="Symbol">(</a><a id="1441" href="Simulations.html#1441" class="Bound">f-g-sim</a> <a id="1449" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1451" href="Simulations.html#1451" class="Bound">g-f-sim</a><a id="1458" class="Symbol">)</a> <a id="1460" class="Symbol">=</a> <a id="1462" class="Symbol">(</a><a id="1463" href="Simulations.html#1451" class="Bound">g-f-sim</a> <a id="1471" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1473" href="Simulations.html#1441" class="Bound">f-g-sim</a><a id="1480" class="Symbol">)</a>

<a id="bisim-trans"></a><a id="1483" href="Simulations.html#1483" class="Function">bisim-trans</a> <a id="1495" class="Symbol">:</a> <a id="1497" class="Symbol">(</a><a id="1498" href="Simulations.html#1498" class="Bound">≼-trans</a> <a id="1506" class="Symbol">:</a> <a id="1508" class="Symbol">(</a><a id="1509" href="Simulations.html#1509" class="Bound">a</a> <a id="1511" href="Simulations.html#1511" class="Bound">b</a> <a id="1513" href="Simulations.html#1513" class="Bound">c</a> <a id="1515" class="Symbol">:</a> <a id="1517" href="Simulations.html#457" class="Bound">A</a><a id="1518" class="Symbol">)</a> <a id="1520" class="Symbol">→</a> <a id="1522" href="Simulations.html#1509" class="Bound">a</a> <a id="1524" href="Simulations.html#471" class="Bound Operator">≼</a> <a id="1526" href="Simulations.html#1511" class="Bound">b</a> <a id="1528" class="Symbol">→</a> <a id="1530" href="Simulations.html#1511" class="Bound">b</a> <a id="1532" href="Simulations.html#471" class="Bound Operator">≼</a> <a id="1534" href="Simulations.html#1513" class="Bound">c</a> <a id="1536" class="Symbol">→</a> <a id="1538" href="Simulations.html#1509" class="Bound">a</a> <a id="1540" href="Simulations.html#471" class="Bound Operator">≼</a> <a id="1542" href="Simulations.html#1513" class="Bound">c</a><a id="1543" class="Symbol">)</a> <a id="1545" class="Symbol">→</a> <a id="1547" class="Symbol">∀</a> <a id="1549" class="Symbol">{</a><a id="1550" href="Simulations.html#1550" class="Bound">f</a> <a id="1552" href="Simulations.html#1552" class="Bound">g</a> <a id="1554" href="Simulations.html#1554" class="Bound">h</a><a id="1555" class="Symbol">}</a> <a id="1557" class="Symbol">→</a>
              <a id="1573" href="Simulations.html#1550" class="Bound">f</a> <a id="1575" href="Simulations.html#857" class="Function Operator">strongly-bisimilar-to</a> <a id="1597" href="Simulations.html#1552" class="Bound">g</a> <a id="1599" class="Symbol">→</a> <a id="1601" href="Simulations.html#1552" class="Bound">g</a> <a id="1603" href="Simulations.html#857" class="Function Operator">strongly-bisimilar-to</a> <a id="1625" href="Simulations.html#1554" class="Bound">h</a> <a id="1627" class="Symbol">→</a> <a id="1629" href="Simulations.html#1550" class="Bound">f</a> <a id="1631" href="Simulations.html#857" class="Function Operator">strongly-bisimilar-to</a> <a id="1653" href="Simulations.html#1554" class="Bound">h</a>
<a id="1655" href="Simulations.html#1483" class="Function">bisim-trans</a> <a id="1667" href="Simulations.html#1667" class="Bound">≼-trans</a> <a id="1675" class="Symbol">(</a><a id="1676" href="Simulations.html#1676" class="Bound">f-g-sim</a> <a id="1684" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1686" href="Simulations.html#1686" class="Bound">g-f-sim</a><a id="1693" class="Symbol">)</a> <a id="1695" class="Symbol">(</a><a id="1696" href="Simulations.html#1696" class="Bound">g-h-sim</a> <a id="1704" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1706" href="Simulations.html#1706" class="Bound">h-g-sim</a><a id="1713" class="Symbol">)</a> <a id="1715" class="Symbol">=</a>
  <a id="1719" href="Simulations.html#999" class="Function">sim-trans</a> <a id="1729" href="Simulations.html#1667" class="Bound">≼-trans</a> <a id="1737" href="Simulations.html#1676" class="Bound">f-g-sim</a> <a id="1745" href="Simulations.html#1696" class="Bound">g-h-sim</a> <a id="1753" href="Agda.Builtin.Sigma.html#235" class="InductiveConstructor Operator">,</a> <a id="1755" href="Simulations.html#999" class="Function">sim-trans</a> <a id="1765" href="Simulations.html#1667" class="Bound">≼-trans</a> <a id="1773" href="Simulations.html#1706" class="Bound">h-g-sim</a> <a id="1781" href="Simulations.html#1686" class="Bound">g-f-sim</a>
</pre></body></html>